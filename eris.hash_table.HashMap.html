<!DOCTYPE html>
<html lang="en">
<head>
        <title>HashMap (eris.hash_table.HashMap)</title>
	<meta charset="utf-8" />
	<meta content="width=device-width, initial-scale=1" name="viewport" />
        <link href="style.css" rel="stylesheet" />
        <script src="script.js" type="text/javascript"></script>

	
	<link href="search-results.html" rel="prefetch" />
</head>
<body>
	<div id="page-header">
		<div id="logotype">
		<span>Documentation</span>
		<nav>
			<a href="http://dlang.org/">Dlang.org</a>
		<a href="https://github.com/baioc/gyred/">GyreD (source)</a></nav>
		</div>

		<form action="search-docs.html" id="search">
			<input name="searchTerm" placeholder="Find a symbol name..." type="search" />
			<input type="submit" value="Go" />
		</form>
	</div>
	<div id="page-body">
		<div id="page-content">
		<h1>HashMap</h1><div class="breadcrumbs"><a class="breadcrumb" href="eris.html">eris</a> <a class="breadcrumb" href="eris.hash_table.html">hash_table</a> </div><div><div class="documentation-comment synopsis"><div><p>Safe version of <a class="xref" href="eris.hash_table.UnsafeHashMap.html">UnsafeHashMap</a>.</p><p>Uses reference counting to avoid manual deallocation problems (i.e. double free) and never exposes references to its internal storage (so the API is similar but not the same).
Again, this type uses reference counting, so cycles must be avoided to ensure memory doesn't leak.</p></div></div></div><div class="annotated-prototype"><div class="aggregate-prototype"><div class="attributes"></div><span class="builtin-type">struct</span> HashMap (<div class="parameters-list toplevel"><div class="template-parameter-item parameter-item">	<span><span class="name" data-ident="Key">Key</span></span></div><div class="template-parameter-item parameter-item">	<span><span class="name" data-ident="Value">Value</span></span></div></div>) {<div class="aggregate-member"><a href="eris.hash_table.HashMap.opBinaryRight.html"><tt class="highlighted"><span class="type">bool</span></tt> <span class="name">opBinaryRight</span>(const(Key) key);</a></div><div class="aggregate-member"><a href="eris.hash_table.HashMap.get.html"><tt class="highlighted"><span class="kwrd">inout</span>(<span class="hid">Value</span>)</tt> <span class="name">get</span>(const(Key) key, const(Default) defaultValue);</a></div>}</div></div><h2 id="members">Members</h2><h3 class="member-list-header hide-from-toc" id="function">Functions</h3><dl class="member-list native"><dt><a href="eris.hash_table.HashMap.get.html">get</a><div class="simplified-prototype" style="max-width: 67ch;"><tt class="highlighted"><span class="kwrd">inout</span>(<span class="hid">Value</span>)</tt> <span class="name">get</span>(const(Key) key, const(Default) defaultValue)</div></dt><dd><div><p>The safe version matches AA's <a href="https://dlang.org/spec/hash-map.html#properties">get</a>.</p></div></dd><dt><a href="eris.hash_table.HashMap.opBinaryRight.html">opBinaryRight</a><div class="simplified-prototype" style="max-width: 37ch;"><tt class="highlighted"><span class="type">bool</span></tt> <span class="name">opBinaryRight</span>(const(Key) key)</div></dt><dd><div><p>Changed to safely return a <tt class="inline-code">bool</tt> instead of an internal pointer.</p></div></dd></dl><div><h2 id="examples"><a class="header-anchor" href="#examples">Examples</a></h2><div class="documentation-comment"><div></div></div><div class="unittest-example-holder"><div class="documentation-comment"></div><pre class="d_code highlighted"><span class="hid">HashMap</span>!(<span class="type">char</span>, <span class="type">long</span>) <span class="hid">outer</span>;
<span class="hid">outer</span>[<span class="str">'o'</span>] = <span class="num">0</span>; <span class="com">// outer -&gt; { 'o': 0 }</span>

{
    <span class="hid">HashMap</span>!(<span class="type">char</span>, <span class="type">long</span>) <span class="hid">inner</span>;
    <span class="hid">inner</span>[<span class="str">'i'</span>] = <span class="num">1</span>; <span class="com">// inner -&gt; { 'i': 1 }</span>
    <span class="hid">outer</span> = <span class="hid">inner</span>;
    <span class="com">// with the previous assignment, { 'o': 0 } was deallocated</span>
}

<span class="com">// as inner goes out of scope, it decreases the ref count of { 'i': 1 }</span>
<span class="com">// but since outer still holds a reference to it, it wasn't deallocated</span>
<span class="kwrd">assert</span>(<span class="hid">outer</span>[<span class="str">'i'</span>] == <span class="num">1</span>); <span class="com">// outer -&gt; { 'i': 1 }</span>
<span class="kwrd">assert</span>(<span class="str">'o'</span> !<span class="kwrd">in</span> <span class="hid">outer</span>);</pre></div></div></div>
		<div id="page-nav"><a class="parent" href="eris.html">eris</a> <a class="parent" href="eris.hash_table.html">hash_table</a> 
		<span class="type-separator">aliases</span><ul><li><a class="alias" href="eris.hash_table.HashSet.html">HashSet</a></li><li><a class="alias" href="eris.hash_table.UnsafeHashSet.html">UnsafeHashSet</a></li></ul><span class="type-separator">structs</span><ul><li><a class="struct current" href="eris.hash_table.HashMap.html">HashMap</a></li><li><a class="struct" href="eris.hash_table.UnsafeHashMap.html">UnsafeHashMap</a></li></ul></div>
	</div>
	<div id="page-footer">Page generated by <a href="https://github.com/adamdruppe/adrdox">adrdox</a></div>
</body>
</html>