<!DOCTYPE html>
<html lang="en">
<head>
        <title>Rational (eris.rational.Rational)</title>
	<meta charset="utf-8" />
	<meta content="width=device-width, initial-scale=1" name="viewport" />
        <link href="style.css" rel="stylesheet" />
        <script src="script.js" type="text/javascript"></script>

	
	<link href="search-results.html" rel="prefetch" />
</head>
<body>
	<div id="page-header">
		<div id="logotype">
		<span>Documentation</span>
		<nav>
			<a href="http://dlang.org/">Dlang.org</a>
		<a href="https://github.com/baioc/gyred/">GyreD (source)</a></nav>
		</div>

		<form action="search-docs.html" id="search">
			<input name="searchTerm" placeholder="Find a symbol name..." type="search" />
			<input type="submit" value="Go" />
		</form>
	</div>
	<div id="page-body">
		<div id="page-content">
		<h1>Rational</h1><div class="breadcrumbs"><a class="breadcrumb" href="eris.html">eris</a> <a class="breadcrumb" href="eris.rational.html">rational</a> </div><div><div class="documentation-comment synopsis"><div><p><a href="https://en.wikipedia.org/wiki/Irreducible_fraction">Reduced-form</a> rational number.</p><p>NOTE: The implementation does NOT attempt to handle overflows. Use a custom type for that.</p></div></div></div><div class="annotated-prototype"><div class="aggregate-prototype"><div class="attributes"></div><span class="builtin-type">struct</span> Rational (<div class="parameters-list toplevel"><div class="template-parameter-item parameter-item">	<span><span class="name" data-ident="Z">Z</span></span></div></div>) <a class="lang-feature" href="http://dpldocs.info/template-constraints">if</a> (<div class="template-constraint-expression">__traits(<span class="name" data-ident="isPOD">isPOD</span>, <span class="name" data-ident="Z">Z</span>)</div>) {<div class="aggregate-member"><a href="eris.rational.Rational.numerator.html"><tt class="highlighted"><span class="hid">Z</span></tt> <span class="name">numerator</span> [@property getter];</a></div><div class="aggregate-member"><a href="eris.rational.Rational.denominator.html"><tt class="highlighted"><span class="hid">Z</span></tt> <span class="name">denominator</span> [@property getter];</a></div><div class="aggregate-member"><a href="eris.rational.Rational.this.html"><span class="lang-feature name">this</span>(inout(Z) numerator, inout(Z) denominator);</a></div><div class="aggregate-member"><a href="eris.rational.Rational.opAssign.html"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">opAssign</span>(Z numerator);</a></div><div class="aggregate-member"><a href="eris.rational.Rational.opEquals.1.html"><tt class="highlighted"><span class="type">bool</span></tt> <span class="name">opEquals</span>(const(Rational) rhs);</a></div><div class="aggregate-member"><a href="eris.rational.Rational.opEquals.2.html"><tt class="highlighted"><span class="type">bool</span></tt> <span class="name">opEquals</span>(Z rhs);</a></div><div class="aggregate-member"><a href="eris.rational.Rational.opCmp.1.html"><tt class="highlighted"><span class="type">int</span></tt> <span class="name">opCmp</span>(const(Rational) rhs);</a></div><div class="aggregate-member"><a href="eris.rational.Rational.opCmp.2.html"><tt class="highlighted"><span class="type">int</span></tt> <span class="name">opCmp</span>(Z rhs);</a></div><div class="aggregate-member"><a href="eris.rational.Rational.opUnary.html"><tt class="highlighted"><span class="hid">Rational</span></tt> <span class="name">opUnary</span>();</a></div><div class="aggregate-member"><a href="eris.rational.Rational.opBinary.1.html"><tt class="highlighted"><span class="hid">Rational</span></tt> <span class="name">opBinary</span>(const(Rational) rhs);</a></div><div class="aggregate-member"><a href="eris.rational.Rational.opBinary.2.html"><tt class="highlighted"><span class="hid">Rational</span></tt> <span class="name">opBinary</span>(Z rhs);</a></div><div class="aggregate-member"><a href="eris.rational.Rational.opBinaryRight.1.html"><tt class="highlighted"><span class="hid">Rational</span></tt> <span class="name">opBinaryRight</span>(Z lhs);</a></div><div class="aggregate-member"><a href="eris.rational.Rational.opBinary.3.html"><tt class="highlighted"><span class="hid">Rational</span></tt> <span class="name">opBinary</span>(const(Rational) rhs);</a></div><div class="aggregate-member"><a href="eris.rational.Rational.opBinary.4.html"><tt class="highlighted"><span class="hid">Rational</span></tt> <span class="name">opBinary</span>(Z rhs);</a></div><div class="aggregate-member"><a href="eris.rational.Rational.opBinaryRight.2.html"><tt class="highlighted"><span class="hid">Rational</span></tt> <span class="name">opBinaryRight</span>(Z lhs);</a></div><div class="aggregate-member"><a href="eris.rational.Rational.opBinary.5.html"><tt class="highlighted"><span class="hid">Rational</span></tt> <span class="name">opBinary</span>(const(Rational) rhs);</a></div><div class="aggregate-member"><a href="eris.rational.Rational.opBinary.6.html"><tt class="highlighted"><span class="hid">Rational</span></tt> <span class="name">opBinary</span>(Z rhs);</a></div><div class="aggregate-member"><a href="eris.rational.Rational.opBinaryRight.3.html"><tt class="highlighted"><span class="hid">Rational</span></tt> <span class="name">opBinaryRight</span>(Z lhs);</a></div><div class="aggregate-member"><a href="eris.rational.Rational.opBinary.7.html"><tt class="highlighted"><span class="hid">Rational</span></tt> <span class="name">opBinary</span>(const(Rational) rhs);</a></div><div class="aggregate-member"><a href="eris.rational.Rational.opBinary.8.html"><tt class="highlighted"><span class="hid">Rational</span></tt> <span class="name">opBinary</span>(Z rhs);</a></div><div class="aggregate-member"><a href="eris.rational.Rational.opBinaryRight.4.html"><tt class="highlighted"><span class="hid">Rational</span></tt> <span class="name">opBinaryRight</span>(Z lhs);</a></div><div class="aggregate-member"><a href="eris.rational.Rational.opCast.html"><tt class="highlighted"><span class="hid">N</span></tt> <span class="name">opCast</span>();</a></div><div class="aggregate-member"><a href="eris.rational.Rational.opEquals.3.html"><tt class="highlighted"><span class="type">bool</span></tt> <span class="name">opEquals</span>(R rhs);</a></div><div class="aggregate-member"><a href="eris.rational.Rational.opCmp.3.html"><tt class="highlighted"><span class="type">int</span></tt> <span class="name">opCmp</span>(R rhs);</a></div>}</div></div><h2 id="constructors">Constructors</h2><dl class="member-list constructors"><dt><a href="eris.rational.Rational.this.html">this</a><div class="simplified-prototype" style="max-width: 50ch;"><span class="lang-feature name">this</span>(inout(Z) numerator, inout(Z) denominator)</div></dt><dd><div><p>Constructs a Rational from given numerator and (non-zero) denominator.</p></div></dd></dl><h2 id="members">Members</h2><h3 class="member-list-header hide-from-toc" id="function">Functions</h3><dl class="member-list native"><dt><a href="eris.rational.Rational.opAssign.html">opAssign</a><div class="simplified-prototype" style="max-width: 28ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">opAssign</span>(Z numerator)</div></dt><dd><div><p>Assigns an integer value to this rational number.</p></div></dd><dt><a href="eris.rational.Rational.opBinary.1.html">opBinary</a><div class="simplified-prototype" style="max-width: 41ch;"><tt class="highlighted"><span class="hid">Rational</span></tt> <span class="name">opBinary</span>(const(Rational) rhs)</div></dt><dt><div class="simplified-prototype" style="max-width: 26ch;"><tt class="highlighted"><span class="hid">Rational</span></tt> <span class="name">opBinary</span>(Z rhs)</div></dt><dt><a href="eris.rational.Rational.opBinaryRight.1.html">opBinaryRight</a><div class="simplified-prototype" style="max-width: 31ch;"><tt class="highlighted"><span class="hid">Rational</span></tt> <span class="name">opBinaryRight</span>(Z lhs)</div></dt><dd><div><p>Arithmetic operations on rationals and/or integers.</p></div></dd><dt><a href="eris.rational.Rational.opCast.html">opCast</a><div class="simplified-prototype" style="max-width: 11ch;"><tt class="highlighted"><span class="hid">N</span></tt> <span class="name">opCast</span>()</div></dt><dd><div><p>Casts rational to a scalar (may lose precision).</p></div></dd><dt><a href="eris.rational.Rational.opCmp.1.html">opCmp</a><div class="simplified-prototype" style="max-width: 33ch;"><tt class="highlighted"><span class="type">int</span></tt> <span class="name">opCmp</span>(const(Rational) rhs)</div></dt><dt><div class="simplified-prototype" style="max-width: 17ch;"><tt class="highlighted"><span class="type">int</span></tt> <span class="name">opCmp</span>(Z rhs)</div></dt><dd><div><p>Compares two rationals based on their reduced form.</p></div></dd><dt><a href="eris.rational.Rational.opCmp.3.html">opCmp</a><div class="simplified-prototype" style="max-width: 17ch;"><tt class="highlighted"><span class="type">int</span></tt> <span class="name">opCmp</span>(R rhs)</div></dt><dd><div><p>Casts and compares rational with floating-point type.</p></div></dd><dt><a href="eris.rational.Rational.opEquals.1.html">opEquals</a><div class="simplified-prototype" style="max-width: 37ch;"><tt class="highlighted"><span class="type">bool</span></tt> <span class="name">opEquals</span>(const(Rational) rhs)</div></dt><dt><div class="simplified-prototype" style="max-width: 22ch;"><tt class="highlighted"><span class="type">bool</span></tt> <span class="name">opEquals</span>(Z rhs)</div></dt><dd><div><p>Compares two rationals based on their reduced form.</p></div></dd><dt><a href="eris.rational.Rational.opEquals.3.html">opEquals</a><div class="simplified-prototype" style="max-width: 22ch;"><tt class="highlighted"><span class="type">bool</span></tt> <span class="name">opEquals</span>(R rhs)</div></dt><dd><div><p>Casts and compares rational with floating-point type.</p></div></dd><dt><a href="eris.rational.Rational.opUnary.html">opUnary</a><div class="simplified-prototype" style="max-width: 19ch;"><tt class="highlighted"><span class="hid">Rational</span></tt> <span class="name">opUnary</span>()</div></dt><dd><div><p>Unary negation.</p></div></dd></dl><h3 class="member-list-header hide-from-toc" id="property">Properties</h3><dl class="member-list native"><dt><a href="eris.rational.Rational.denominator.html">denominator</a><div class="simplified-prototype" style="max-width: 35ch;"><tt class="highlighted"><span class="hid">Z</span></tt> <span class="name">denominator</span> [@property getter]</div></dt><dd><div><p>Reduced-form denominator, always positive.</p></div></dd><dt><a href="eris.rational.Rational.numerator.html">numerator</a><div class="simplified-prototype" style="max-width: 33ch;"><tt class="highlighted"><span class="hid">Z</span></tt> <span class="name">numerator</span> [@property getter]</div></dt><dd><div><p>Reduced-form numerator.</p></div></dd></dl><div><h2 id="examples"><a class="header-anchor" href="#examples">Examples</a></h2><div class="documentation-comment"><div></div></div><div class="unittest-example-holder"><div class="documentation-comment"></div><pre class="d_code highlighted"><span class="com">// rationals can store fractional numbers without precision loss</span>
<span class="kwrd">alias</span> <span class="hid">Ratio</span> = <span class="hid">Rational</span>!<span class="type">long</span>;
<span class="kwrd">auto</span> <span class="hid">r</span> = <span class="hid">Ratio</span>(<span class="num">3</span>, <span class="num">4</span>);
<span class="kwrd">assert</span>(<span class="hid">r</span>.<span class="hid">numerator</span> == <span class="num">3</span>);
<span class="kwrd">assert</span>(<span class="hid">r</span>.<span class="hid">denominator</span> == <span class="num">4</span>);

<span class="com">// but remember that they are always kept in reduced form</span>
<span class="kwrd">assert</span>(<span class="hid">Ratio</span>(<span class="num">6</span>, <span class="num">4</span>) == <span class="hid">Ratio</span>(<span class="num">3</span>, <span class="num">2</span>));
<span class="kwrd">auto</span> <span class="hid">r2</span> = -(<span class="hid">r</span> * <span class="num">2</span>);
<span class="kwrd">assert</span>(<span class="hid">r2</span>.<span class="hid">numerator</span> == -<span class="num">3</span>); <span class="com">// numerator may be negative</span>
<span class="kwrd">assert</span>(<span class="hid">r2</span>.<span class="hid">denominator</span> == <span class="num">2</span>); <span class="com">// but denominator is always positive</span>

<span class="com">// they can be compared with floating-point and integral numbers</span>
<span class="kwrd">assert</span>(<span class="hid">r</span> == <span class="num">0.75</span> &amp;&amp; <span class="num">0.75</span> == <span class="hid">r</span>);
<span class="kwrd">assert</span>(<span class="hid">r</span> != <span class="num">1</span> &amp;&amp; <span class="num">1</span> != <span class="hid">r</span>);
<span class="kwrd">assert</span>(<span class="hid">r</span> &lt; <span class="num">1</span> &amp;&amp; <span class="num">1</span> &gt; <span class="hid">r</span>);
<span class="kwrd">assert</span>(<span class="hid">r2</span> &lt;= -<span class="num">1.5</span> &amp;&amp; -<span class="num">1.5</span> &gt;= <span class="hid">r2</span>);
<span class="kwrd">assert</span>(<span class="hid">r</span> &gt; <span class="hid">r2</span>);

<span class="com">// arithmetic and casts work as expected (modulo overflows)</span>
<span class="kwrd">assert</span>(<span class="hid">Ratio</span>(-<span class="num">3</span>, <span class="num">5</span>) + <span class="hid">Ratio</span>(<span class="num">2</span>, <span class="num">3</span>) == <span class="hid">Ratio</span>(<span class="num">1</span>, <span class="num">15</span>));
<span class="kwrd">assert</span>(<span class="hid">Ratio</span>(-<span class="num">3</span>, <span class="num">14</span>) - <span class="hid">Ratio</span>(<span class="num">5</span>, <span class="num">7</span>) == <span class="hid">Ratio</span>(-<span class="num">13</span>, <span class="num">14</span>));
<span class="kwrd">assert</span>(<span class="hid">Ratio</span>(<span class="num">3</span>, <span class="num">7</span>) * <span class="hid">Ratio</span>(<span class="num">7</span>, <span class="num">3</span>) == <span class="num">1</span> &amp;&amp; <span class="num">1</span> == <span class="hid">Ratio</span>(<span class="num">3</span>, <span class="num">7</span>) * <span class="hid">Ratio</span>(<span class="num">7</span>, <span class="num">3</span>));
<span class="kwrd">assert</span>(<span class="hid">Ratio</span>(<span class="num">7</span>, <span class="num">3</span>) / <span class="hid">Ratio</span>(<span class="num">2</span>, <span class="num">3</span>) == <span class="hid">Ratio</span>(<span class="num">7</span>, <span class="num">2</span>));
<span class="kwrd">assert</span>(<span class="kwrd">cast</span>(<span class="type">int</span>)(<span class="num">2</span> * (<span class="num">1</span> + <span class="hid">Ratio</span>(<span class="num">42</span>) - <span class="num">1</span>) / <span class="num">2</span>) == <span class="num">42</span>);</pre></div></div></div>
		<div id="page-nav"><a class="parent" href="eris.html">eris</a> <a class="parent" href="eris.rational.html">rational</a> 
		<span class="type-separator">functions</span><ul><li><a class="function" href="eris.rational.r.html">r</a></li></ul><span class="type-separator">structs</span><ul><li><a class="struct current" href="eris.rational.Rational.html">Rational</a></li></ul></div>
	</div>
	<div id="page-footer">Page generated by <a href="https://github.com/adamdruppe/adrdox">adrdox</a></div>
</body>
</html>